Name                    | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Description                                                                              | Sensitive | Default
----------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------- | --------- | --------------------------------------------------------------------------------------------
"resource_group_id"     | string                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | id of resource group to create VPC                                                       |           | 
"prefix"                | string                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | The IBM Cloud platform API key needed to deploy IAM enabled resources                    |           | 
"tags"                  | list(string)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | List of tags to apply to resources created by this module.                               |           | []
"vpc_id"                | string                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | ID of VPC                                                                                |           | 
"subnets"               | list( object({ name = string id = string zone = string cidr = string }) )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | A list of subnet IDs where VSI will be deployed                                          |           | 
"image"                 | string                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Image name used for VSI. Run 'ibmcloud is images' to find available images in a region   |           | ibm-centos-7-6-minimal-amd64-2
"ssh_key_ids"           | list(string)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | ssh key ids to use in creating vsi                                                       |           | 
"machine_type"          | string                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | VSI machine type. Run 'ibmcloud is instance-profiles' to get a list of regional profiles |           | bx2-8x32
"vsi_per_subnet"        | number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Number of VSI instances for each subnet                                                  |           | 1
"user_data"             | string                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | User data to initialize VSI deployment                                                   |           | null
"enable_floating_ip"    | bool                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Create a floating IP for each virtual server created                                     |           | true
"security_group"        | object({ name = string rules = list( object({ name = string direction = string source = string tcp = optional( object({ port_max = number port_min = number }) ) udp = optional( object({ port_max = number port_min = number }) ) icmp = optional( object({ type = number code = number }) ) }) ) })                                                                                                                                                                                                                                                                                                                    | Security group for VSI                                                                   |           | 
"block_storage_volumes" | list( object({ name = string profile = string capacity = optional(number) iops = optional(number) encryption_key = optional(string) }) )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | List describing the block storage volumes that will be attached to each vsi              |           | [{ name = "one" profile = "general-purpose" }, { name = "two" profile = "general-purpose" }]
"load_balancers"        | list( object({ name = string type = string listener_port = number listener_protocol = string connection_limit = number algorithm = string protocol = string health_delay = number health_retries = number health_timeout = number health_type = string pool_member_port = string security_group = optional( object({ name = string rules = list( object({ name = string direction = string source = string tcp = optional( object({ port_max = number port_min = number }) ) udp = optional( object({ port_max = number port_min = number }) ) icmp = optional( object({ type = number code = number }) ) }) ) }) ) }) ) | Load balancers to add to VSI                                                             |           | []
